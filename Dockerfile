FROM ansibleplaybookbundle/apb-base

LABEL "com.redhat.apb.spec"=\
"LS0tCnZlcnNpb246IDEuMApuYW1lOiBhcGljYXN0LWFwYgpkZXNjcmlwdGlvbjogQW4gb3BlbiBz\
b3VyY2UgQVBJIGdhdGV3YXkKYmluZGFibGU6IGZhbHNlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0\
YToKICBkaXNwbGF5TmFtZTogQVBJQ2FzdCAoQVBCKQogIGxvbmdEZXNjcmlwdGlvbjogVGhpcyBB\
bnNpYmxlIFBsYXlib29rIEJ1bmRsZSB0byBkZXBsb3kgdGhlIDNzY2FsZSBBUEkgZ2F0ZXdheQog\
IGRvY3VtZW50YXRpb25Vcmw6IGh0dHBzOi8vc3VwcG9ydC4zc2NhbGUubmV0L2RvY3MKICBwcm92\
aWRlckRpc3BsYXlOYW1lOiBSZWQgSGF0LCBJbmMuCiAgY29uc29sZS5vcGVuc2hpZnQuaW8vaWNv\
bkNsYXNzOiBpY29uLWxvYWQtYmFsYW5jZXIKdGFnczoKICAtIDNzY2FsZQogIC0gYXBpCiAgLSBn\
YXRld2F5CnBsYW5zOgogIC0gbmFtZTogZGVmYXVsdAogICAgZGVzY3JpcHRpb246IERlZmF1bHQg\
cGxhbgogICAgZnJlZTogdHJ1ZQogICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiBEZWZh\
dWx0CiAgICAgIGxvbmdEZXNjcmlwdGlvbjogfC0KICAgICAgICBUaGlzIHBsYW4gZGVwbG95cyBh\
IDNzY2FsZSBnYXRld2F5ICgiQVBJY2FzdCIpLiBZb3UgbXVzdCBoYXZlCiAgICAgICAgYWNjZXNz\
IHRvIGFuIGFkbWluIGFjY291bnQgaW4gYW4gQVBJIE1hbmFnZW50IFBsYXRmb3JtIGVudmlyb25t\
ZW50CiAgICAgICAgYW5kIG9idGFpbiBhbiBhY2Nlc3MgdG9rZW4gZm9yIHRoZSBhY2NvdW50IG1h\
bmFnZW1lbnQgQVBJLiBUaGlzCiAgICAgICAgQVBCIHJlcXVpcmVzIHRoYXQgdG9rZW4gYW5kIHRo\
ZSBhZGRyZXNzIG9mIHRoZSBtYW5hZ2VtZW50IEFQSQogICAgICAgIGVuZHBvaW50LgogICAgICBj\
b3N0OiAkMC4wMAogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBtYW5hZ2VtZW50X2hvc3QK\
ICAgICAgICB0aXRsZTogSG9zdG5hbWUgKGFuZCBvcHRpb25hbCA6cG9ydCkgb2YgdGhlIGFjY291\
bnQgbWFuYWdlbWVudCBBUEkKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICB2YWx1ZTogbXlk\
b21haW4tYWRtaW4uM3NjYWxlLm5ldAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFt\
ZTogYWNjZXNzX3Rva2VuCiAgICAgICAgdGl0bGU6IEFjY2VzcyB0b2tlbiBmb3IgdGhlIEFjY291\
bnQgTWFuYWdlbWVudCBBUEkKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAtIHRpdGxlOiBEZXBsb3ltZW50IGVudmlyb25tZW50CiAgICAgICAgZGVmYXVs\
dDogcHJvZHVjdGlvbgogICAgICAgIG5hbWU6IGVudmlyb25tZW50CiAgICAgICAgdHlwZTogZW51\
bQogICAgICAgIGVudW06IFsnc2FuZGJveCcsICdwcm9kdWN0aW9uJ10KICAgICAgICByZXF1aXJl\
ZDogdHJ1ZQogICAgICAtIG5hbWU6IGNvbmZpZ19sb2FkZXIKICAgICAgICB0aXRsZTogV2hlbiB0\
byBsb2FkIGNvbmZpZy4gQXQgc3RhcnQgKGJvb3QpIG9yIGluY29taW5nIHJlcXVlc3QgKGxhenkp\
CiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVudW06IFsnYm9vdCcsICdsYXp5J10KICAgICAg\
ICBkZWZhdWx0OiBib290CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgLSBuYW1lOiBiYWNr\
ZW5kX2NhY2hlX2hhbmRsZXIKICAgICAgICB0aXRsZTogSG93IHRvIGhhbmRsZSBhbmQgY2FjaGUg\
YmFja2VuZCBhdXRob3JpemF0aW9uIHJlc3BvbnNlcy4KICAgICAgICB0eXBlOiBlbnVtCiAgICAg\
ICAgZW51bTogWydzdHJpY3QnLCAncmVzaWxpZW50J10KICAgICAgICBkZWZhdWx0OiBzdHJpY3QK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAtIG5hbWU6IHJlc29sdmVyCiAgICAgICAgdGl0\
bGU6IEROUyBSZXNvbHZlciBmb3Igb3BlbnJlc3R5LCBpZiBlbXB0eSBpdCB3aWxsIGJlIGF1dG9k\
aXNjb3ZlcmVkCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAg\
ICAgIC0gbmFtZTogbG9nX2xldmVsCiAgICAgICAgdGl0bGU6IExvZyBsZXZlbC4KICAgICAgICB0\
eXBlOiBlbnVtCiAgICAgICAgZGVmYXVsdDogbm90aWNlCiAgICAgICAgZW51bToKICAgICAgICAg\
IC0gZGVidWcKICAgICAgICAgIC0gaW5mbwogICAgICAgICAgLSBub3RpY2UKICAgICAgICAgIC0g\
d2FybgogICAgICAgICAgLSBlcnJvcgogICAgICAgICAgLSBjcml0CiAgICAgICAgICAtIGFsZXJ0\
CiAgICAgICAgICAtIGVtZXJnCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgLSBuYW1lOiBv\
YXV0aF90b2tlbnNfdHRsCiAgICAgICAgdGl0bGU6IFRUTCAoaW4gc2Vjb25kcykgb2YgdGhlIG9h\
dXRoIHRva2VucyBjcmVhdGVkLgogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDYw\
NDgwMAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTogc2VydmljZV9saXN0CiAg\
ICAgICAgdGl0bGU6IFN1YnNldCBvZiBzZXJ2aWNlcyB0byBydW4uIENvbW1hIHNlcGFyYXRlZCBp\
ZHMgKGVnLiA0MiwxMzM3KQogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIHJlcXVpcmVkOiBm\
YWxzZQogICAgICAtIG5hbWU6IGNvbmZpZ19jYWNoZQogICAgICAgIHRpdGxlOiA+LQogICAgICAg\
ICAgRm9yIGhvdyBsb25nIHRvIGNhY2hlIHRoZSBkb3dubG9hZGVkIGNvbmZpZ3VyYXRpb24gKHNl\
Y29uZHMpLgogICAgICAgICAgQ2FuIGJlIGxlZnQgZW1wdHksIDAgb3IgZ3JlYXRlciB0aGFuIDYw\
LgogICAgICAgIHR5cGU6IGludAogICAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgICAtIG5hbWU6\
IHJlZGlzX3VybAogICAgICAgIHRpdGxlOiA+LQogICAgICAgICAgUmVkaXMgVVJMLiBSZXF1aXJl\
ZCBmb3IgT0F1dGgyIGludGVncmF0aW9uLgogICAgICAgICAgZS5nLiByZWRpczovL1BBU1NXT1JE\
QDEyNy4wLjAuMTo2Mzc5LzAKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICByZXF1aXJlZDog\
ZmFsc2UKICAgICAgLSBuYW1lOiBtYW5hZ2VtZW50X3Njb3BlCiAgICAgICAgdGl0bGU6ID4tCiAg\
ICAgICAgICBTY29wZSBvZiB0aGUgTWFuYWdlbWVudCBBUEkuIEF0IGxlYXN0ICdzdGF0dXMnCiAg\
ICAgICAgICByZXF1aXJlZCBmb3IgaGVhbHRoIGNoZWNrcy4KICAgICAgICB0eXBlOiBlbnVtCiAg\
ICAgICAgZW51bTogWydkaXNhYmxlZCcsICdzdGF0dXMnLCAnZGVidWcnXQogICAgICAgIGRlZmF1\
bHQ6IHN0YXR1cwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTogdGxzX3Zlcmlm\
eQogICAgICAgIHRpdGxlOiBFbmFibGUgVExTL1NTTCBwZWVyIHZlcmlmaWNhdGlvbi4KICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB0eXBlOiBib29s\
ZWFuCiAgICAgIC0gbmFtZTogcmVzcG9uc2VfY29kZXMKICAgICAgICB0aXRsZTogRW5hYmxlIGxv\
Z2dpbmcgcmVzcG9uc2UgY29kZXMgdG8gM3NjYWxlLgogICAgICAgIHR5cGU6IGJvb2xlYW4KICAg\
ICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTog\
cGF0aF9yb3V0aW5nCiAgICAgICAgdGl0bGU6IEVuYWJsZSBwYXRoIHJvdXRpbmcuIEV4cGVyaW1l\
bnRhbCBmZWF0dXJlLgogICAgICAgIHR5cGU6IGJvb2xlYW4KICAgICAgICBkZWZhdWx0OiBmYWxz\
ZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgIC0gbmFtZTogY29uZmlnX2ZpbGUKICAgICAg\
ICB0aXRsZTogT3ZlcnJpZGUgSlNPTiBjb25maWd1cmF0aW9uIGZpbGUgZm9yIHRoZSBnYXRld2F5\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGlzcGxheV90eXBlOiB0ZXh0YXJlYQogICAg\
ICAgIHJlcXVpcmVkOiBmYWxzZQo="

COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles
USER apb
